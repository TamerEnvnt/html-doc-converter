---
phase: 01-foundation
plan: 01
type: execute
---

<objective>
Set up Node.js/TypeScript project with proper structure for the HTML document converter.

Purpose: Establish the foundation that all subsequent phases build upon — package management, TypeScript compilation, and organized code structure.
Output: Working Node.js project with TypeScript configured, dependencies installed, and folder structure ready for development.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Tech stack (from PROJECT.md):**
- Node.js with TypeScript
- Puppeteer (for PDF — Phase 3)
- Dependencies on LibreOffice CLI (external, not npm)

**Constraints:**
- Must work cross-platform (macOS, Windows, Linux)
- TypeScript for maintainability
- No GUI — CLI only
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize package.json with core dependencies</name>
  <files>package.json</files>
  <action>
    Initialize npm project with:
    - name: "html-doc-converter"
    - version: "1.0.0"
    - type: "module" (ES modules)
    - main: "dist/index.js"
    - bin: { "html-doc-converter": "dist/cli.js" }
    - scripts: build, start, test

    Install dependencies:
    - puppeteer (PDF generation)
    - commander (CLI parsing)
    - cheerio (HTML parsing)

    Install devDependencies:
    - typescript
    - @types/node
    - tsx (for development running)
    - vitest (testing)

    DO NOT install LibreOffice via npm — it's a system dependency.
    Use `npm init -y` then edit, or create package.json directly.
  </action>
  <verify>npm install completes without errors; node_modules/ created</verify>
  <done>package.json exists with all dependencies; npm install succeeds</done>
</task>

<task type="auto">
  <name>Task 2: Configure TypeScript</name>
  <files>tsconfig.json</files>
  <action>
    Create tsconfig.json with:
    - target: "ES2022"
    - module: "NodeNext"
    - moduleResolution: "NodeNext"
    - outDir: "dist"
    - rootDir: "src"
    - strict: true
    - esModuleInterop: true
    - skipLibCheck: true
    - declaration: true

    These settings ensure:
    - Modern JS output
    - ES module compatibility
    - Strict type checking
    - Declaration files for potential library use
  </action>
  <verify>npx tsc --noEmit passes (once src/ has files)</verify>
  <done>tsconfig.json exists with correct configuration</done>
</task>

<task type="auto">
  <name>Task 3: Create folder structure with entry points</name>
  <files>src/index.ts, src/cli.ts, src/converters/, src/parsers/, tests/</files>
  <action>
    Create directory structure:
    ```
    src/
      index.ts          — Main library entry point (exports public API)
      cli.ts            — CLI entry point (uses commander)
      converters/
        pdf-converter.ts  — Placeholder for Puppeteer PDF logic
        docx-converter.ts — Placeholder for LibreOffice DOCX logic
      parsers/
        html-parser.ts    — Placeholder for HTML parsing logic
    tests/
      .gitkeep          — Placeholder for test files
    ```

    Entry point files should have minimal placeholder code:
    - index.ts: Export convert function stub
    - cli.ts: Basic commander setup with --help
    - Converters/parsers: Export placeholder functions with TODO comments

    This establishes the architecture for future phases without implementing logic.
  </action>
  <verify>npx tsc compiles without errors; npm run build succeeds</verify>
  <done>All directories exist; TypeScript compiles; npm run build produces dist/</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm install` succeeds without errors
- [ ] `npm run build` compiles TypeScript to dist/
- [ ] `node dist/cli.js --help` shows usage
- [ ] All planned directories exist (src/converters, src/parsers, tests)
- [ ] No TypeScript errors
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Project can be built and CLI shows help text
- Foundation ready for Phase 2 (HTML Parser)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`:

# Phase 1 Plan 1: Foundation Summary

**[Substantive one-liner describing what shipped]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]
- [Key outcome 3]

## Files Created/Modified

- `package.json` - Project configuration with dependencies
- `tsconfig.json` - TypeScript configuration
- `src/index.ts` - Library entry point
- `src/cli.ts` - CLI entry point
- `src/converters/` - Converter module placeholders
- `src/parsers/` - Parser module placeholders

## Decisions Made

[Any decisions made during implementation]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Phase Readiness

Ready for Phase 2: HTML Parser
- TypeScript compilation working
- Project structure established
- Dependencies installed
</output>
